import{P as j,S as y,i as h,a as x,b as d,c as p,d as v,u as f,j as o,e as u,f as g}from"./index-1178beb0.js";var S=Object.defineProperty,M=Object.getOwnPropertyDescriptor,N=(e,t,a,r)=>{for(var s=r>1?void 0:r?M(t,a):t,n=e.length-1,c;n>=0;n--)(c=e[n])&&(s=(r?c(t,a,s):c(s))||s);return r&&s&&S(t,a,s),s},_=(e,t)=>(a,r)=>t(a,r,e);const m="StateProvider",P="State provider";let l=class extends j{constructor(e,t){super(e),this.propManager=e,this.storeManager=t,this.key=m,this.name=P}get description(){return`Provide from state: ${this.data}`}listen(e){console.log("listen",e),this.subscription=this.storeManager.listen(t=>t[y][e].value,t=>this.onProvide(t),{callImmediately:!0})}dispose(){var e;(e=this.subscription)==null||e.call(this)}};l=N([h(),x([d,p]),_(0,v(d)),_(1,v(p))],l);const T="_root_abjfx_1",w="_body_abjfx_13",C="_title_abjfx_18",O="_stateRow_abjfx_22",R="_stateTitle_abjfx_34",k="_stateType_abjfx_39",i={root:T,body:w,title:C,stateRow:O,stateTitle:R,stateType:k},A=({onClose:e,onProviderCreated:t})=>{const a=f(g),r=s=>{t(b,s)};return o.jsxs("div",{className:i.root,children:[o.jsx("div",{className:i.title,children:"All States"}),o.jsx("div",{className:i.body,children:Object.values(a.getAllStates()).map(s=>o.jsxs("div",{className:i.stateRow,onClick:()=>r(s.key),children:[o.jsx("div",{className:i.stateTitle,children:s.key}),o.jsxs("div",{className:i.stateType,children:["Type: ",s.typeInfo.typeName]})]},s.key))}),o.jsx("button",{className:i.back,onClick:e,children:"Back"})]})},b={component:A,key:m,name:P,description:"Provide prop from state manager",propProviderClass:l};u.registerProviderFactory(b);export{A as StateProviderComponent,b as StateProviderFactory};
